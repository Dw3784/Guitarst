{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block link %}{% endblock %}
    <title> {{ title }} </title>
</head>
<body class="body">
    <header class="header">
        <div class="catalog"><a class="ul__link" href="{% url 'catalog:Main' %}">Каталог</div>
        <nav class="nav">
            <ul class="ul">
                <li class="ul__li"><a class="ul__link" href="{% url 'catalog:Guitars' %}">Гитары</a></li>
                <li class="ul__li"><a class="ul__link" href="{% url 'catalog:Dops' %}">Аксесуары и комплектующие</a></li>
                {% if request.user.is_authenticated %}
                    <li class="ul__li"><a class="ul__link" href="{% url 'user:profile' user.pk %}">Аккаунт</a></li>
                {% else %}
                    <li class="ul__li"><a class="ul__link" href="{% url 'user:reg_or_auth' %}">Регистрация и вход</a></li>
                {% endif %}
                <li class="ul__li"><a class="ul__link" href="{% url 'cart:cart' %}">Корзина</a></li>
            </ul>
        </nav>
    </header>
    {% block product %}{% endblock %}
    {% if products.has_other_pages %}
        <div class="pagination_wrapper">
            <nav class="pagination_nav">
                <ul class="pagination_ul"> 
                    {% if products.has_previous %}
                        <li class="pagination_li"><a class="pagination_link_prev" href="?page={{ p.previous_page_number }}">&#8592;</a></li>
                    {% endif %}

                    {% for p in paginator.page_range %}
                        {% if products.number == p %}
                            <li class="pagination_li"><a class="pagination_link_select">{{ p }}</a></li>
                        {% elif p >= products.number|add:-2 and p <= products.number|add:2 %}
                            <li class="pagination_li"><a class="pagination_link" href="?page={{ p }}">{{ p }}</a></li>
                        {% endif %}
                    {% endfor %}

                    {% if products.has_next %}
                        <li class="pagination_li"><a class="pagination_link_next" href="?page={{ products.next_page_number }}">&#8594;</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    {% endif %}
</body>
</html>